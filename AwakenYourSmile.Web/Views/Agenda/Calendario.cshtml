@using System.Globalization;
@{
    ViewBag.Title = "Calendario";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section AddToHead{
    @Styles.Render("~/Content/fullcalendar")
    @Scripts.Render("~/bundles/moment")
    @Scripts.Render("~/bundles/fullcalendar")
    <style type="text/css">
        .appointment_cancelled {
            background-color: #ffffff;
            color: #ff0000 !important;
            text-decoration: line-through;
        }
        .appointment_booked {
        }
        .appointment_confirmed {
        }
        .appointment_entered {
        }
    </style>
}

<section class="container page-content">
    <hr class="vertical-space2">
    @Html.ActionLink("Agregar nueva cita", "AgendarCita")
    <div id='calendar'></div>
    @Html.ActionLink("Regresar", "Index")
</section>

@section Scripts {
    @if (CultureInfo.CurrentUICulture.TwoLetterISOLanguageName == "es")
    {
        @Scripts.Render("~/Scripts/fullcalendar-lang/es.js");
    }
    <script type="text/javascript">
        $(document).ready(function () {
            $('#calendar').fullCalendar({
                lang: '@Html.DisplayTextFor(language => CultureInfo.CurrentUICulture.TwoLetterISOLanguageName)',
                eventSources: [
                    {
                        url: '@Url.Action("Eventos")',
                        type: "GET",
                        error: function () {
                            alert('"here was an error while fetching events.');
                        }
                    }
                ]
            });
        });
    </script>
}
